{"ast":null,"code":"var _jsxFileName = \"/Users/Edwin/Desktop/Course_work/Fitness-Trakr-Front-/src/components/MyRoutines.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { SingleRoutine } from './';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst {\n  REACT_APP_BASE_URL = 'https://fitnesstrac-kr.herokuapp.com/api/'\n} = process.env;\n\nconst MyRoutines = ({\n  username,\n  token,\n  setMyRoutines,\n  myRoutines\n}) => {\n  _s();\n\n  const fetchMyRoutines = async () => {\n    try {\n      if (username) {\n        const resp = await fetch(`${REACT_APP_BASE_URL}/users/${user.name}/routines`, {\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${token}`\n          }\n        });\n        const data = await resp.json();\n\n        if (data) {\n          setMyRoutines(data);\n        } else {\n          setMyRoutines([]);\n        }\n      }\n\n      return;\n    } catch (error) {\n      console.error(error);\n    }\n\n    ;\n  };\n\n  const handleDelete = async routineId => {\n    try {\n      await fetch(`${REACT_APP_BASE_URL}/routines/${routineId}`, {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      await fetchMyRoutines();\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const handleSubmit = async event => {\n    event.preventDefault();\n\n    try {\n      await fetch(`${REACT_APP_BASE_URL}/routines`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          name,\n          goal,\n          isPublic\n        })\n      });\n      const data = await response.json();\n\n      if (data) {\n        setName('');\n        setGoal('');\n        setIsPublic(false);\n        await fetchMyRoutines();\n      }\n\n      return;\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  useEffect(() => {\n    try {\n      fetchMyRoutines();\n    } catch (error) {\n      console.error(error);\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: myRoutines.length > 0 ? myRoutines.map(routine => {\n      return /*#__PURE__*/_jsxDEV(SingleRoutine, {\n        routine: routine\n      }, routine.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 28\n      }, this);\n    }) : null\n  }, void 0, false);\n};\n\n_s(MyRoutines, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = MyRoutines;\nexport default MyRoutines;\n\nvar _c;\n\n$RefreshReg$(_c, \"MyRoutines\");","map":{"version":3,"sources":["/Users/Edwin/Desktop/Course_work/Fitness-Trakr-Front-/src/components/MyRoutines.js"],"names":["React","useState","useEffect","SingleRoutine","REACT_APP_BASE_URL","process","env","MyRoutines","username","token","setMyRoutines","myRoutines","fetchMyRoutines","resp","fetch","user","name","headers","data","json","error","console","handleDelete","routineId","method","handleSubmit","event","preventDefault","body","JSON","stringify","goal","isPublic","response","setName","setGoal","setIsPublic","length","map","routine","id"],"mappings":";;;AACA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AAEA,SAASC,aAAT,QAA8B,IAA9B;;;AACA,MAAM;AAAEC,EAAAA,kBAAkB,GAAG;AAAvB,IAAuEC,OAAO,CAACC,GAArF;;AAEA,MAAMC,UAAU,GAAG,CAAC;AAACC,EAAAA,QAAD;AAAWC,EAAAA,KAAX;AAAkBC,EAAAA,aAAlB;AAAiCC,EAAAA;AAAjC,CAAD,KAAkD;AAAA;;AAEjE,QAAMC,eAAe,GAAG,YAAY;AAChC,QAAI;AACA,UAAGJ,QAAH,EAAa;AACT,cAAMK,IAAI,GAAG,MAAMC,KAAK,CAAG,GAAEV,kBAAmB,UAASW,IAAI,CAACC,IAAK,WAA3C,EAAuD;AAC3EC,UAAAA,OAAO,EAAE;AACL,4BAAgB,kBADX;AAEL,6BAAkB,UAASR,KAAM;AAF5B;AADkE,SAAvD,CAAxB;AAMA,cAAMS,IAAI,GAAG,MAAML,IAAI,CAACM,IAAL,EAAnB;;AACA,YAAID,IAAJ,EAAU;AACNR,UAAAA,aAAa,CAACQ,IAAD,CAAb;AACH,SAFD,MAEO;AACHR,UAAAA,aAAa,CAAC,EAAD,CAAb;AACH;AACJ;;AACD;AAEH,KAjBD,CAiBE,OAAOU,KAAP,EAAc;AACZC,MAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd;AACH;;AAAA;AACJ,GArBD;;AAuBA,QAAME,YAAY,GAAG,MAAOC,SAAP,IAAqB;AACtC,QAAI;AACA,YAAMT,KAAK,CAAE,GAAEV,kBAAmB,aAAYmB,SAAU,EAA7C,EAAgD;AACxDC,QAAAA,MAAM,EAAE,QADgD;AAExDP,QAAAA,OAAO,EAAE;AACR,0BAAgB,kBADR;AAER,2BAAkB,UAASR,KAAM;AAFzB;AAF+C,OAAhD,CAAX;AAOA,YAAMG,eAAe,EAArB;AAEH,KAVD,CAUE,OAAOQ,KAAP,EAAc;AACZC,MAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd;AACH;AACJ,GAdD;;AAgBA,QAAMK,YAAY,GAAG,MAAOC,KAAP,IAAiB;AAClCA,IAAAA,KAAK,CAACC,cAAN;;AACA,QAAI;AACA,YAAMb,KAAK,CAAE,GAAEV,kBAAmB,WAAvB,EAAmC;AAC3CoB,QAAAA,MAAM,EAAE,MADmC;AAE3CP,QAAAA,OAAO,EAAE;AACR,0BAAgB,kBADR;AAER,2BAAkB,UAASR,KAAM;AAFzB,SAFkC;AAKxCmB,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAgB;AAACd,UAAAA,IAAD;AAAOe,UAAAA,IAAP;AAAaC,UAAAA;AAAb,SAAhB;AALkC,OAAnC,CAAX;AAOA,YAAMd,IAAI,GAAG,MAAMe,QAAQ,CAACd,IAAT,EAAnB;;AACA,UAAGD,IAAH,EAAS;AACLgB,QAAAA,OAAO,CAAC,EAAD,CAAP;AACAC,QAAAA,OAAO,CAAC,EAAD,CAAP;AACAC,QAAAA,WAAW,CAAC,KAAD,CAAX;AACA,cAAMxB,eAAe,EAArB;AACH;;AACD;AAEH,KAjBD,CAiBE,OAAOQ,KAAP,EAAc;AACZC,MAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd;AACH;AACJ,GAtBD;;AAwBAlB,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAI;AACAU,MAAAA,eAAe;AAClB,KAFD,CAEE,OAAOQ,KAAP,EAAc;AACZC,MAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd;AACH;AACJ,GANQ,EAMN,EANM,CAAT;AAQA,sBAAO;AAAA,cAECT,UAAU,CAAC0B,MAAX,GAAoB,CAApB,GACI1B,UAAU,CAAC2B,GAAX,CAAeC,OAAO,IAAI;AACtB,0BAAO,QAAC,aAAD;AAAkC,QAAA,OAAO,EAAIA;AAA7C,SAAsBA,OAAO,CAACC,EAA9B;AAAA;AAAA;AAAA;AAAA,cAAP;AAGH,KAJD,CADJ,GAKS;AAPV,mBAAP;AAcH,CAvFD;;GAAMjC,U;;KAAAA,U;AAwFN,eAAeA,UAAf","sourcesContent":["\nimport React, {useState, useEffect} from 'react';\n\nimport { SingleRoutine } from './'\nconst { REACT_APP_BASE_URL = 'https://fitnesstrac-kr.herokuapp.com/api/' } = process.env;\n\nconst MyRoutines = ({username, token, setMyRoutines, myRoutines}) => {\n\n    const fetchMyRoutines = async () => {\n        try {\n            if(username) {\n                const resp = await fetch (`${REACT_APP_BASE_URL}/users/${user.name}/routines`, {\n                    headers: {\n                        'Content-Type': 'application/json',\n                        'Authorization': `Bearer ${token}`\n                    },\n                })\n                const data = await resp.json();\n                if (data) {\n                    setMyRoutines(data);\n                } else {\n                    setMyRoutines([]);\n                }\n            }\n            return\n            \n        } catch (error) {\n            console.error(error)\n        };\n    };\n\n    const handleDelete = async (routineId) => {\n        try {\n            await fetch(`${REACT_APP_BASE_URL}/routines/${routineId}`, {\n               method: 'DELETE',\n               headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${token}`\n               }\n            })\n            await fetchMyRoutines();\n            \n        } catch (error) {\n            console.error(error)\n        }\n    }\n\n    const handleSubmit = async (event) => {\n        event.preventDefault();\n        try {\n            await fetch(`${REACT_APP_BASE_URL}/routines`, {\n               method: 'POST',\n               headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${token}`\n               }, body: JSON.stringify ({name, goal, isPublic})\n            })\n            const data = await response.json();\n            if(data) {\n                setName('');\n                setGoal('');\n                setIsPublic(false);\n                await fetchMyRoutines();\n            }\n            return;\n            \n        } catch (error) {\n            console.error(error)\n        }\n    }\n\n    useEffect(() => {\n        try {\n            fetchMyRoutines();\n        } catch (error) {\n            console.error(error)\n        }\n    }, [])\n\n    return <>\n        {\n            myRoutines.length > 0 ?\n                myRoutines.map(routine => {\n                    return <SingleRoutine key = {routine.id} routine = {routine}>\n\n                    </SingleRoutine>\n                }) : null\n        }\n        </>\n\n\n\n\n}\nexport default MyRoutines;"]},"metadata":{},"sourceType":"module"}